<!-- Side widgets-->
<div class="col-lg-3 side_widgets">
  <!-- Search widget-->
  <div class="card my-4">
      <h5 class="card-header">Search</h5>
      <div class="card-body">
          <div class="input-group">
              <input class="form-control" type="text" placeholder="Search for..."id="search-input" />
              <span class="input-group-append">
                <button class="btn btn-secondary" type="button" onclick="searchPost();">Go!</button>
            </span>
          </div>
      </div>
  </div>
  <!-- Categories widget-->
  <div class="card my-4">
      <h5 class="card-header">Categories</h5>
      <div class="card-body">
          <div class="row">
              <div class="category">
                  <ul class="list-unstyled mb-0 ml-2">
                      {% for category in categories %}
                        <li>
                            <i class="bi bi-caret-down-fill"></i>
                            <a href="{{ category.get_absolute_url }}">
                                {{ category }} ({{ category.post_set.count }})
                            </a>
                        </li>
                      {% endfor %}
                         <li>
                            <i class="bi bi-caret-down-fill"></i>
                            <a href="/blog/category/no_category/">미분류 ({{ no_category_post_count }})</a>
                        </li>
                  </ul>
              </div>
          </div>
      </div>
  </div>
</div>

<script>
   // search
function searchPost(){
    let searchValue = document.getElementById('search-input').value.trim();
    if(searchValue.length > 1){
        // alert('검색어('+ searchValue +')');
        location.href ="/blog/search/" + searchValue + "/";
    }
    else{
        alert("검색어('+ searchValue +')가 너무 짧습니다.");
    }
;
};
document.getElementById('search-input').addEventListener("keyup",function(e){

    if(e.key === 'Enter'){
        searchPost();
    }
});
</script>